---
alertmanager:
  spec:
    externalURL: https://alertmanager.developer-friendly.blog
defaultRules:
  groups:
    kubeScheduler:
      create: false
    kubernetesSystemControllerManager:
      create: false
externalVM:
  write:
    basicAuth:
      password:
        key: GRAFANA_CLOUD_PASSWORD
        name: grafana-cloud
      username:
        key: GRAFANA_CLOUD_USERNAME
        name: grafana-cloud
    url: https://prometheus-prod-24-prod-eu-west-2.grafana.net/api/prom/push
extraObjects:
  - apiVersion: external-secrets.io/v1beta1
    kind: ExternalSecret
    metadata:
      name: grafana-cloud
    spec:
      data:
        - remoteRef:
            key: /grafana_cloud/remote_write/username
          secretKey: GRAFANA_CLOUD_USERNAME
        - remoteRef:
            key: /grafana_cloud/remote_write/password
          secretKey: GRAFANA_CLOUD_PASSWORD
      refreshInterval: 24h
      secretStoreRef:
        kind: ClusterSecretStore
        name: aws-parameter-store
      target:
        creationPolicy: Owner
        deletionPolicy: Delete
        immutable: false
grafana:
  enabled: false
  forceDeployDatasource: true
  grafana.ini:
    server:
      root_url: https://grafana.developer-friendly.blog
  persistence:
    enabled: false
  sidecar:
    datasources:
      enabled: false
      label: grafana_datasource
  useStatefulSet: true
grafanaOperatorDashboardsFormat:
  enabled: true
kubeControllerManager:
  enabled: false
kubeScheduler:
  enabled: false
vmagent:
  enabled: true
  spec:
    resources:
      limits:
        cpu: 200m
        memory: 128Mi
      requests:
        cpu: 100m
        memory: 64Mi
vmalert:
  enabled: false
  externalLabels:
    environment: production
  extraArgs:
    external.url: https://alertmanager.developer-friendly.blog
vmsingle:
  enabled: false
  retentionPeriod: 2d
  spec:
    storage:
      resources:
        requests:
          storage: 4Gi
